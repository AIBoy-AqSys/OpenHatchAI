# 06_GITHUB_GATES.md（GitHubゲート設計）
責務種別: `BUILD + RUNTIME_POLICY`

## 何を行うのか
- `main` ブランチを保護し、PR経由のみで変更を入れる
- CI（最低限 lint/build）を必須チェックにする
- 自律修正/検証ループ後に作成されたPRを、GitHub側で一貫した基準で判定する
- 自動デプロイは GitHub 側の仕組みで行い、VPSエージェントの直接本番反映を避ける
- 自動マージ条件を固定し、危険領域を除外する
- gh CLI を含むGitHub運用主体（認証方式・利用者）を明確化する
- `main` 最新化前提のブランチ運用と整合するPRルールを定義する

## 構築時に行うこと（BUILD）
- ブランチ保護ポリシーを設定する
- 必須CIチェックを設定する
- 自動デプロイ経路をGitHub側に寄せる構成を作る
- 自動マージ条件と除外条件を定義する
- 認証主体（SSH/gh）と権限境界を決める

## 常駐後の前提（RUNTIME_POLICY）
- agentd が生成したPRも人間PRと同じ判定基準で評価される
- 常駐エージェントは GitHub ゲートを迂回しない
- 自律反復の結果は、GitHubの保護ルールで安全に受け止める
